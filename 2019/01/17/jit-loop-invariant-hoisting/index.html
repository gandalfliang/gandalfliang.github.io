<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="generator" content="Hexo 4.2.1"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>JIT Loop Invariant Hoisting - gandalfliang的个人博客</title><meta description="在上一篇文章中，我们已经对 Loop Invariant 概念有一个简单的了解，在文章的最后提到的 Loop Invariant 将在这篇文章做一个简单的介绍。 在我们开始之前如果你了解 C# 程序的运行，应该知道 C# 代码先被编译器编译为 MSIL 中间代码，在实际运行的时候才通过 JIT 编译器将 MSIL 代码编译成机器代码并运行。因此，编译器有两个时段可以对代码进行优化：  C# -&amp;amp;g"><meta property="og:type" content="blog"><meta property="og:title" content="JIT Loop Invariant Hoisting"><meta property="og:url" content="https://gandalfliang.github.io/2019/01/17/jit-loop-invariant-hoisting/"><meta property="og:site_name" content="gandalfliang的个人博客"><meta property="og:description" content="在上一篇文章中，我们已经对 Loop Invariant 概念有一个简单的了解，在文章的最后提到的 Loop Invariant 将在这篇文章做一个简单的介绍。 在我们开始之前如果你了解 C# 程序的运行，应该知道 C# 代码先被编译器编译为 MSIL 中间代码，在实际运行的时候才通过 JIT 编译器将 MSIL 代码编译成机器代码并运行。因此，编译器有两个时段可以对代码进行优化：  C# -&amp;amp;g"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://gandalfliang.github.io/img/og_image.png"><meta property="article:published_time" content="2019-01-17T11:06:38.000Z"><meta property="article:modified_time" content="2021-02-10T03:52:13.733Z"><meta property="article:author" content="gandalfliang"><meta property="article:tag" content="C#"><meta property="article:tag" content="RyuJIT"><meta property="article:tag" content="编译器优化"><meta property="article:tag" content="Loop Hoisting"><meta property="article:tag" content="Loop Invariant Hoisting"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://gandalfliang.github.io/2019/01/17/jit-loop-invariant-hoisting/"},"headline":"gandalfliang的个人博客","image":["https://gandalfliang.github.io/img/og_image.png"],"datePublished":"2019-01-17T11:06:38.000Z","dateModified":"2021-02-10T03:52:13.733Z","author":{"@type":"Person","name":"gandalfliang"},"description":"在上一篇文章中，我们已经对 Loop Invariant 概念有一个简单的了解，在文章的最后提到的 Loop Invariant 将在这篇文章做一个简单的介绍。 在我们开始之前如果你了解 C# 程序的运行，应该知道 C# 代码先被编译器编译为 MSIL 中间代码，在实际运行的时候才通过 JIT 编译器将 MSIL 代码编译成机器代码并运行。因此，编译器有两个时段可以对代码进行优化：  C# -&amp;g"}</script><link rel="canonical" href="https://gandalfliang.github.io/2019/01/17/jit-loop-invariant-hoisting/"><link rel="icon" href="/img/gandalf_me.png"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/vs2015.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><!--!--><script>var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            hm.src = "//hm.baidu.com/hm.js?c686536e160a85b5b7056db6bff59bf5";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();</script><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/gandalf_me.png" alt="gandalfliang的个人博客" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a></div><div class="navbar-end"><a class="navbar-item search" title="搜索" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-8-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2019-01-17T11:06:38.000Z" title="2019-01-17T11:06:38.000Z">2019-01-17</time><span class="level-item"><a class="link-muted" href="/categories/%E6%8A%80%E6%9C%AF/">技术</a></span><span class="level-item">7 分钟 读完 (大约 1059 个字)</span></div></div><h1 class="title is-3 is-size-4-mobile">JIT Loop Invariant Hoisting</h1><div class="content"><html><head></head><body><p>在上一篇<a href="./2019/01/15/loop-hoisting/">文章</a>中，我们已经对 <code>Loop Invariant</code> 概念有一个简单的了解，在文章的最后提到的 <code>Loop Invariant</code> 将在这篇文章做一个简单的介绍。</p>
<h2 id="在我们开始之前"><a href="#在我们开始之前" class="headerlink" title="在我们开始之前"></a>在我们开始之前</h2><p>如果你了解 <code>C#</code> 程序的运行，应该知道 <code>C#</code> 代码先被编译器编译为 <code>MSIL</code> 中间代码，在实际运行的时候才通过 <code>JIT</code> 编译器将 <code>MSIL</code> 代码编译成机器代码并运行。因此，编译器有两个时段可以对代码进行优化：</p>
<ul>
<li><strong>C#</strong> -&gt; <strong>MSIL</strong></li>
<li><strong>MSIL</strong> -&gt; <strong>MACHINE CODE</strong>  <a id="more"></a>
但是，C#到MSIL的优化有限，大部分优化都是通过 <code>JIT</code> 来完成的。而这篇文章也是围绕微软最新的 <code>RyuJIT</code> 编译器来展开，其可能与旧的 <code>JIT</code>有所区别，但是应该差异不大。</li>
</ul>
<h2 id="Loop-Invariant"><a href="#Loop-Invariant" class="headerlink" title="Loop Invariant"></a>Loop Invariant</h2><p>首先看一下微软对 <a href="https://github.com/dotnet/coreclr/blob/master/Documentation/botr/ryujit-overview.md#loop-invariant-code-hoisting" target="_blank" rel="noopener"><code>Loop Invariant Code Hoisting</code></a> 的说明：</p>
<blockquote>
<p>This phase traverses all the loop nests, in outer-to-inner order (thus hoisting expressions outside the largest loop in which they are invariant). It traverses all of the statements in the blocks in the loop that are always executed. If the statement is:  </p>
<ul>
<li>A valid CSE candidate</li>
<li>Has no side-effects</li>
<li>Does not raise an exception OR occurs in the loop prior to any side-effects</li>
<li>Has a valid value number, and it is a lclVar defined outside the loop, or its children (the value numbers from which it was computed) are invariant.</li>
</ul>
</blockquote>
<p><code>JIT</code> 从外到内遍历所有的循环嵌套。它遍历循环嵌套结构中始终会被运行的<code>BasicBlock</code>（这是<code>JIT</code>里的类型，这里暂不展开，你可以暂时将其理解为编译器的基本类型）里的语句，并且这些语句符合以下条件：  </p>
<ul>
<li>是一个 <code>CSE</code></li>
<li>没有副作用</li>
<li>不会触发异常或者发生在任何副作用之前</li>
<li>拥有一个可用的数字，这个数字定义在循环嵌套外或者其子元素是不可变的</li>
</ul>
<hr>
<p>上面提到的始终会被运行的循环嵌套（loop that are always executed), 如何理解? 嗯…，简单来讲，我们知道的循环结构，例如大部分编程语言都会有的 for loop 和 do while loop，这两种循环嵌套中，do while loop 就符合一定会被执行的循环嵌套，因为循环判断在一次循环后才会执行，而有些for loop 也可以被转换为 do while loop, <code>JIT</code> 会判断这个loop能否转换为do while loop后才进行后续的 loop hoisting 操作。</p>
<h2 id="CSE-Common-Subexpression-Elimination"><a href="#CSE-Common-Subexpression-Elimination" class="headerlink" title="CSE - Common Subexpression Elimination"></a>CSE - Common Subexpression Elimination</h2><blockquote>
<p>Utilizes value numbers to identify redundant computations, which are then evaluated to a new temp lvlVar, and then reused.</p>
</blockquote>
<p>利用数字来识别（替代？）多余的计算，然后将它们计算为新的临时值，并重复利用。就如上篇文章中for循环中的 <code>x+y</code>。<br>观察<code>RyuJIT</code> 中用于判定<code>CSE</code>的函数片段：  </p>
<p></p><figure class="highlight c++ hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">/*****************************************************************************</span></span><br><span class="line"><span class="hljs-comment"> *</span></span><br><span class="line"><span class="hljs-comment"> *  The following determines whether the given expression is a worthy CSE</span></span><br><span class="line"><span class="hljs-comment"> *  candidate.</span></span><br><span class="line"><span class="hljs-comment"> */</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">Compiler::optIsCSEcandidate</span><span class="hljs-params">(GenTreePtr tree)</span></span></span><br><span class="line"><span class="hljs-function"></span>{</span><br><span class="line">     <span class="hljs-comment">/* No good if the expression contains side effects or if it was marked as DONT CSE */</span></span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">if</span>  (tree-&gt;gtFlags &amp; (GTF_ASG|GTF_DONT_CSE))</span><br><span class="line">    {</span><br><span class="line">        <span class="hljs-keyword">return</span>  <span class="hljs-literal">false</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/* The only reason a TYP_STRUCT tree might occur is as an argument to</span></span><br><span class="line"><span class="hljs-comment">       GT_ADDR. It will never be actually materialized. So ignore them.</span></span><br><span class="line"><span class="hljs-comment">       Also TYP_VOIDs */</span></span><br><span class="line"></span><br><span class="line">    var_types   type = tree-&gt;TypeGet();</span><br><span class="line">    genTreeOps  oper = tree-&gt;OperGet();</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">if</span> (type == TYP_STRUCT || type == TYP_VOID)</span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</span><br><span class="line"></span><br><span class="line">    ...</span><br><span class="line"></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">ifdef</span> _TARGET_X86_</span></span><br><span class="line">    <span class="hljs-keyword">if</span> (type == TYP_FLOAT)</span><br><span class="line">    {</span><br><span class="line">        <span class="hljs-comment">// TODO-X86-CQ: Revisit this</span></span><br><span class="line">        <span class="hljs-comment">// Don't CSE a TYP_FLOAT on x86 as we currently can only enregister doubles </span></span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</span><br><span class="line">    }</span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">else</span></span></span><br><span class="line">    <span class="hljs-keyword">if</span> (oper == GT_CNS_DBL)</span><br><span class="line">    {</span><br><span class="line">        <span class="hljs-comment">// TODO-CQ: Revisit this</span></span><br><span class="line">        <span class="hljs-comment">// Don't try to CSE a GT_CNS_DBL as they can represent both float and doubles</span></span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</span><br><span class="line">    }</span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span></span></span><br><span class="line"></span><br><span class="line">    ...</span><br><span class="line">  <span class="hljs-comment">/* Check for some special cases */</span></span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">switch</span> (oper)</span><br><span class="line">    {</span><br><span class="line">        ...</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">case</span> GT_LCL_VAR:</span><br><span class="line">        <span class="hljs-keyword">return</span>  <span class="hljs-literal">false</span>;   <span class="hljs-comment">// Can't CSE a volatile LCL_VAR</span></span><br><span class="line"></span><br><span class="line">        ...</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    ...</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><br>当然，这个函数还有许多细节，这里只挑选几个典型的片段。看代码可以知道：  <p></p>
<ul>
<li><strong>可以明确指定不能使用 CSE</strong></li>
<li><strong>不能有赋值表达式</strong></li>
<li><strong>在x86下 float 不能作为 CSE, x64 下不支持 float 和 double</strong></li>
<li><strong>不支持 struct 和 void</strong> </li>
<li><strong>如果是可变 (volatile) 的变量，也不能作为CSE，这在之前的一篇<a href="https://gandalfliang.github.io/2018/12/26/csharp-memory-model-part-1/">文章</a>中有对 volatile 的说明</strong></li>
</ul>
<p><code>Loop-Hoisting</code> 还有颇多细节这里并没有覆盖，有兴趣可以去看源码：<a href="https://github.com/dotnet/coreclr/blob/master/src/jit/optimizer.cpp" target="_blank" rel="noopener">https://github.com/dotnet/coreclr/blob/master/src/jit/optimizer.cpp</a></p>
</body></html></div><div class="article-tags size-small mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/tags/C/">C#</a><a class="link-muted mr-2" rel="tag" href="/tags/RyuJIT/">RyuJIT</a><a class="link-muted mr-2" rel="tag" href="/tags/%E7%BC%96%E8%AF%91%E5%99%A8%E4%BC%98%E5%8C%96/">编译器优化</a><a class="link-muted mr-2" rel="tag" href="/tags/Loop-Hoisting/">Loop Hoisting</a><a class="link-muted mr-2" rel="tag" href="/tags/Loop-Invariant-Hoisting/">Loop Invariant Hoisting</a></div><div class="addthis_inline_share_toolbox"></div><script src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5ef339011580c307" defer></script></article></div><!--!--><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/2019/01/22/c-cli-debug-assembly-load-error/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">定位 C++/CLI 库的加载失败异常</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2019/01/15/loop-hoisting/"><span class="level-item">Loop Hoisting</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">评论</h3><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/disqusjs@1.2.5/dist/disqusjs.css"><div id="disqus_thread"><noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div><script src="https://cdn.jsdelivr.net/npm/disqusjs@1.2.5/dist/disqus.js"></script><script>new DisqusJS({
            shortname: 'gandalf-blog',
            apikey: "5X51fCd1jYDfvLIhUCC8TWYGMAPPRR7xA4mlRHcpXXRBByYYrqy0PO80PDUQGneE",
            siteName: "gandalfliang的个人博客",
            identifier: '2019/01/17/jit-loop-invariant-hoisting/',
            url: 'https://gandalfliang.github.io/2019/01/17/jit-loop-invariant-hoisting/',
            title: "JIT Loop Invariant Hoisting",
            api: 'https://disqus.skk.moe/disqus/',
            admin: "gandalf",
            adminLabel: "Admin",
            nesting: 4
        });</script></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-4-widescreen  order-1"><div class="card widget"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar is-rounded" src="https://avatars3.githubusercontent.com/u/5707551?v=3&amp;s=460" alt="gandalfliang"></figure><p class="title is-size-4 is-block line-height-inherit">gandalfliang</p><p class="is-size-6 is-block">gandalfliang@outlook.com</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Guangzhou, CN</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">文章</p><a href="/archives"><p class="title">26</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">分类</p><a href="/categories"><p class="title">6</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">标签</p><a href="/tags"><p class="title">45</p></a></div></div></nav><div class="level is-mobile"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="http://github.com/gandalfliang"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/"><i class="fas fa-rss"></i></a></div></div></div><!--!--><div class="card widget"><div class="card-content"><h3 class="menu-label">最新文章</h3><article class="media"><div class="media-content size-small"><p><time dateTime="2019-01-23T10:56:15.000Z">2019-01-23</time></p><p class="title is-6"><a class="link-muted" href="/2019/01/23/tags-for-the-past-two-years/">Tags for the past Two years</a></p><p class="is-uppercase"></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2019-01-22T11:18:13.000Z">2019-01-22</time></p><p class="title is-6"><a class="link-muted" href="/2019/01/22/c-cli-debug-assembly-load-error/">定位 C++/CLI 库的加载失败异常</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/%E8%B0%83%E8%AF%95/">调试</a></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2019-01-17T11:06:38.000Z">2019-01-17</time></p><p class="title is-6"><a class="link-muted" href="/2019/01/17/jit-loop-invariant-hoisting/">JIT Loop Invariant Hoisting</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/%E6%8A%80%E6%9C%AF/">技术</a></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2019-01-14T17:52:23.000Z">2019-01-15</time></p><p class="title is-6"><a class="link-muted" href="/2019/01/15/loop-hoisting/">Loop Hoisting</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/%E6%8A%80%E6%9C%AF/">技术</a></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2018-12-26T07:43:56.000Z">2018-12-26</time></p><p class="title is-6"><a class="link-muted" href="/2018/12/26/csharp-memory-model-part-1/">C# 内存模型</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/%E6%8A%80%E6%9C%AF/">技术</a></p></div></article></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">分类</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/categories/%E5%9B%BE%E7%89%87/"><span class="level-start"><span class="level-item">图片</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/%E5%B7%A5%E5%85%B7/"><span class="level-start"><span class="level-item">工具</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/%E6%8A%80%E6%9C%AF/"><span class="level-start"><span class="level-item">技术</span></span><span class="level-end"><span class="level-item tag">15</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/%E6%91%84%E5%BD%B1/"><span class="level-start"><span class="level-item">摄影</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/%E7%BF%BB%E8%AF%91/"><span class="level-start"><span class="level-item">翻译</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/%E8%B0%83%E8%AF%95/"><span class="level-start"><span class="level-item">调试</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">归档</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/archives/2019/01/"><span class="level-start"><span class="level-item">一月 2019</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/12/"><span class="level-start"><span class="level-item">十二月 2018</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/08/"><span class="level-start"><span class="level-item">八月 2018</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/07/"><span class="level-start"><span class="level-item">七月 2018</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/06/"><span class="level-start"><span class="level-item">六月 2018</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/04/"><span class="level-start"><span class="level-item">四月 2018</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/03/"><span class="level-start"><span class="level-item">三月 2018</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/02/"><span class="level-start"><span class="level-item">二月 2018</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/01/"><span class="level-start"><span class="level-item">一月 2018</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2017/12/"><span class="level-start"><span class="level-item">十二月 2017</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2017/10/"><span class="level-start"><span class="level-item">十月 2017</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2017/09/"><span class="level-start"><span class="level-item">九月 2017</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2017/08/"><span class="level-start"><span class="level-item">八月 2017</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2017/06/"><span class="level-start"><span class="level-item">六月 2017</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2017/05/"><span class="level-start"><span class="level-item">五月 2017</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2017/03/"><span class="level-start"><span class="level-item">三月 2017</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li></ul></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">标签</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/BUG/"><span class="tag">BUG</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/C/"><span class="tag">C#</span><span class="tag is-grey-lightest">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/C-CLI/"><span class="tag">C++/CLI</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/CLOO/"><span class="tag">CLOO</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/D3DImage/"><span class="tag">D3DImage</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/DirectX/"><span class="tag">DirectX</span><span class="tag is-grey-lightest">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Extension/"><span class="tag">Extension</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/FFmpeg/"><span class="tag">FFmpeg</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/GPU/"><span class="tag">GPU</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Guangzhou/"><span class="tag">Guangzhou</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/LayeredWindow/"><span class="tag">LayeredWindow</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Loop-Hoisting/"><span class="tag">Loop Hoisting</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Loop-Invariant-Hoisting/"><span class="tag">Loop Invariant Hoisting</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Mlt-Framework/"><span class="tag">Mlt Framework</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/NET-Standard/"><span class="tag">NET Standard</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Nikon/"><span class="tag">Nikon</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/OpenCL/"><span class="tag">OpenCL</span><span class="tag is-grey-lightest">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Perforator/"><span class="tag">Perforator</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Performance/"><span class="tag">Performance</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Profiling/"><span class="tag">Profiling</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/RyuJIT/"><span class="tag">RyuJIT</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Timelapse/"><span class="tag">Timelapse</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/VSCode/"><span class="tag">VSCode</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Video/"><span class="tag">Video</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Visual-Studio/"><span class="tag">Visual Studio</span><span class="tag is-grey-lightest">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Volatile/"><span class="tag">Volatile</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/WPF/"><span class="tag">WPF</span><span class="tag is-grey-lightest">7</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Xcode/"><span class="tag">Xcode</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/async-await/"><span class="tag">async/await</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/design-pattern/"><span class="tag">design pattern</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/filter/"><span class="tag">filter</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B/"><span class="tag">内存模型</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%8D%95%E5%8F%8D/"><span class="tag">单反</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86/"><span class="tag">图像处理</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%B0%BE%E9%80%92%E5%BD%92/"><span class="tag">尾递归</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%9B%BC%E5%BE%B7%E5%8D%9A%E9%9B%86%E5%90%88/"><span class="tag">曼德博集合</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%B8%B2%E6%9F%93/"><span class="tag">渲染</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%BC%96%E8%AF%91%E5%99%A8%E4%BC%98%E5%8C%96/"><span class="tag">编译器优化</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%BF%BB%E8%AF%91/"><span class="tag">翻译</span><span class="tag is-grey-lightest">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E8%A7%A3%E7%A0%81/"><span class="tag">解码</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E8%B0%83%E8%AF%95/"><span class="tag">调试</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E9%80%9A%E7%94%A8%E8%AE%A1%E7%AE%97/"><span class="tag">通用计算</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E9%9F%B3%E8%A7%86%E9%A2%91/"><span class="tag">音视频</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E9%AB%98%E6%80%A7%E8%83%BD%E8%AE%A1%E7%AE%97/"><span class="tag">高性能计算</span><span class="tag is-grey-lightest">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E9%AB%98%E6%96%AF%E6%A8%A1%E7%B3%8A/"><span class="tag">高斯模糊</span><span class="tag is-grey-lightest">1</span></a></div></div></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">链接</h3><ul class="menu-list"><li><a class="level is-mobile is-mobile" href="https://hexo.io" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Hexo</span></span><span class="level-right"><span class="level-item tag">hexo.io</span></span></a></li><li><a class="level is-mobile is-mobile" href="https://bulma.io" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Bulma</span></span><span class="level-right"><span class="level-item tag">bulma.io</span></span></a></li><li><a class="level is-mobile is-mobile" href="http://lindexi.oschina.io/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">林德熙的博客</span></span><span class="level-right"><span class="level-item tag">lindexi.oschina.io</span></span></a></li><li><a class="level is-mobile is-mobile" href="https://walterlv.github.io/blog/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">吕毅的博客</span></span><span class="level-right"><span class="level-item tag">walterlv.github.io</span></span></a></li></ul></div></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/gandalf_me.png" alt="gandalfliang的个人博客" height="28"></a><p class="size-small"><span>&copy; 2022 gandalfliang</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script>moment.locale("zh-CN");</script><script>var IcarusThemeSettings = {
            site: {
                url: 'https://gandalfliang.github.io',
                external_link: {"enable":true,"exclude":[]}
            },
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><a id="back-to-top" title="回到顶端" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="想要查找什么..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"想要查找什么...","untitled":"(无标题)","posts":"文章","pages":"页面","categories":"分类","tags":"标签"});
        });</script></body></html>